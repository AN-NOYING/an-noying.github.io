document.addEventListener("DOMContentLoaded",()=>{let t=document.createElement("style");t.innerHTML=`
    #DRAG-SEARCH{position:fixed;z-index:3;padding:.5rem 1rem;display:none;border-radius:1rem;background-color:var(--md-default-bg-color);box-shadow:var(--md-shadow-z1);transition-property:top,right,bottom,left;transition-duration:.25s}
    #DRAG-SEARCH ul{list-style:none;padding:0;margin:0;display:flex;align-items:center;gap:1rem}
    #DRAG-SEARCH li{display:flex;align-items:center}
    #DRAG-SEARCH li:not(:last-child){border-right:1px solid var(--md-typeset-kbd-border-color);padding-right:1rem}
    #DRAG-SEARCH button{outline:none;border:none;padding:0;background-color:transparent;cursor:pointer}
    #DRAG-SEARCH img{display:block;width:16px;height:16px}
`,document.head.appendChild(t);let e=document.createElement("div");e.id="DRAG-SEARCH",e.innerHTML=`
    <ul>
        <li>
            <button type="button" title"GOOGLE" aria-label="SEARCH GOOGLE" onclick="window.open('//google.com/search?q=' + window.getSelection().toString().trim(),'_blank')">
                <img src="/assets/google.avif" alt="GOOGLE">
            </button>
        </li>
        <li>
            <button type="button" title"YOUTUBE" aria-label="SEARCH YOUTUBE" onclick="window.open('//youtube.com/results?search_query=' + window.getSelection().toString().trim(),'_blank')">
                <img src="/assets/youtube.avif" alt="YOUTUBE">
            </button>
        </li>
        <li>
            <button type="button" title"NAVER" aria-label="SEARCH NAVER" onclick="window.open('//search.naver.com/search.naver?query=' + window.getSelection().toString().trim(),'_blank')">
                <img src="/assets/naver.avif" alt="NAVER">
            </button>
        </li>
    </ul>
`,document.body.appendChild(e),document.addEventListener("selectionchange",()=>{let t=window.getSelection(),i=t.toString().trim();if(i){e.style.display="block";let n=t.getRangeAt(0).getBoundingClientRect(),o=e.getBoundingClientRect().width,l=e.getBoundingClientRect().height,r=n.left+n.width/2-o/2;e.style.left=`${Math.max(0,Math.min(r,window.innerWidth-o))}px`;let a=n.bottom+(l+16);e.style.bottom=`${window.innerHeight-a}px`;return}e.style.display="none"})});